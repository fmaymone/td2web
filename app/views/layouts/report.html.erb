<!DOCTYPE html>
<html>
  <head>
    <title><%= @page_title %></title>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
    <%= csp_meta_tag %>
    <%= javascript_pack_tag 'report' %>
    <%= stylesheet_pack_tag 'report' %>
  </head>

  <body>
    <%= yield %>
  </body>

  <style>
    @page {
      size: <%= @locale.to_s == 'en' ? 'letter' : 'A4' %> landscape;
    }
  </style>

  <script type="text/javascript">
    window.report_locale = "<%= @locale %>"
    window.report_chart_data = <%= raw JSON.pretty_generate @report.chart_data%>
  </script>

</html>
